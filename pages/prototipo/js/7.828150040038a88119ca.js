webpackJsonp([7],{gSYw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{modal:!1,recurso:{id:"",descricao:"",utilizacao:[]},dataTable:{visibleColumns:["descricao","utilizacao"],columns:[{name:"id",field:"id"},{name:"descricao",label:"Descrição",field:"descricao",align:"left"},{name:"utilizacao",label:"Utilização",field:"utilizacao",align:"left"}],filter:"",selected:[],loading:!1}}},computed:{recursos:function(){return this.$store.getters["recursos/getData"]}},methods:{salvarRecurso:function(){var t=""!==this.recurso.id;t||this.$store.dispatch("recursos/addRecurso",this.recurso),this.$q.notify({type:"positive",position:"top",message:"Recurso "+(t?"alterada":"inserida")+" com sucesso"}),this.recurso={id:"",descricao:"",utilizacao:[]}},onClickAddRecurso:function(){this.recurso={id:"",descricao:"",utilizacao:[]},this.modal=!0},onClickEditRecurso:function(){this.recurso=this.dataTable.selected[0],this.modal=!0},onClickDesaRecurso:function(){var t=this;this.$q.dialog({title:"Confirmação",message:"Deseja realmente desativar a recurso?",ok:!0,cancel:!1}).then(function(){t.dataTable.selected.forEach(function(t){t.status=!1}),t.$q.notify({type:"positive",position:"top",message:"Recurso desativada com sucesso"})})}}},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"docs-table",attrs:{padding:""}},[a("q-card",[a("q-card-main",{staticClass:"q-pa-none"},[a("q-table",{ref:"table",attrs:{color:"primary",data:t.recursos,columns:t.dataTable.columns,"visible-columns":t.dataTable.visibleColumns,filter:t.dataTable.filter,selection:"multiple",selected:t.dataTable.selected,"row-key":"id",loading:t.dataTable.loading},on:{"update:selected":function(e){t.$set(t.dataTable,"selected",e)}},scopedSlots:t._u([{key:"top-left",fn:function(e){return[a("q-search",{staticStyle:{width:"350px"},attrs:{"hide-underline":"",placeholder:"Procurar (Descrição ou Utilização)"},model:{value:t.dataTable.filter,callback:function(e){t.$set(t.dataTable,"filter",e)},expression:"dataTable.filter"}})]}},{key:"top-right",fn:function(e){return[a("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"primary",round:"",icon:"add",title:"Novo Recurso"},on:{click:t.onClickAddRecurso}}),t._v(" "),a("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"secondary",round:"",icon:"edit",title:"Editar Recurso",disable:1!==t.dataTable.selected.length},on:{click:t.onClickEditRecurso}}),t._v(" "),a("q-btn",{attrs:{push:"",color:"tertiary",round:"",icon:"delete",title:"Desativar Recurso",disable:0===t.dataTable.selected.length},on:{click:t.onClickDesaRecurso}})]}},{key:"body-cell-descricao",fn:function(e){return a("q-td",{attrs:{props:e}},[a("p",{staticClass:"ellipsis",staticStyle:{"max-width":"800px"},domProps:{textContent:t._s(e.value)}}),t._v(" "),a("q-tooltip",{staticStyle:{"max-width":"500px"},attrs:{anchor:"bottom middle"}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)}},{key:"body-cell-utilizacao",fn:function(e){return a("q-td",{attrs:{props:e}},t._l(e.value,function(e){return a("q-item",{key:e.curso},[a("q-item-main",{attrs:{label:e.curso}}),t._v(" "),a("q-item-side",{attrs:{right:""}},[a("q-chip",{staticClass:"shadow-2",attrs:{color:"primary"}},[t._v(t._s(e.qtd))])],1)],1)}))}}])})],1)],1),t._v(" "),a("q-modal",{attrs:{"content-css":{minWidth:"60%",minHeight:"80%"}},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close","wait-for-ripple":""},on:{click:function(e){t.modal=!1}}}),t._v(" "),a("q-toolbar-title",[t._v("\n          "+t._s(""===t.recurso.id?"Adicionar":"Editar")+" Recurso\n        ")])],1),t._v(" "),a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row gutter-sm"},[a("div",{staticClass:"col-md-6 col-lg-6"},[a("p",{staticClass:"caption"},[t._v("Nome")]),t._v(" "),a("q-input",{attrs:{placeholder:"Nome do Recurso"},model:{value:t.recurso.nome,callback:function(e){t.$set(t.recurso,"nome",e)},expression:"recurso.nome"}})],1)])]),t._v(" "),a("q-toolbar",{staticClass:"justify-end",attrs:{slot:"footer"},slot:"footer"},[a("q-btn",{staticClass:"bg-white text-primary",attrs:{label:"Salvar",icon:"save"},on:{click:t.salvarRecurso}}),t._v(" "),a("q-btn",{staticClass:"bg-white text-negative q-ml-sm",attrs:{label:"Cancelar",icon:"close"},on:{click:function(e){t.modal=!1}}})],1)],1)],1)],1)},i=[];o._withStripped=!0;var l=a("XyMi"),r=Object(l.a)(s,o,i,!1,null,null,null);r.options.__file="src\\pages\\cadastros_basicos\\recursos\\gerenciamento_recursos.vue";e.default=r.exports}});