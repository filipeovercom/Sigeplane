webpackJsonp([8],{"r/sb":function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={data:function(){return{modal:!1,metodologia:{id:"",descricao:"",utilizacao:[]},dataTable:{visibleColumns:["descricao","utilizacao"],columns:[{name:"id",field:"id"},{name:"descricao",label:"Descrição",field:"descricao",align:"left"},{name:"utilizacao",label:"Utilização",field:"utilizacao",align:"left"}],filter:"",selected:void 0,loading:!1}}},computed:{metodologias:function(){return this.$store.getters["metodologias/getData"]}},methods:{salvarMetodologia:function(){var t=""!==this.metodologia.id;this.metodologia.descricao.trim(),t||this.$store.dispatch("metodologias/addMetodologia",this.metodologia),this.$q.notify({type:"positive",position:"top",message:"Metodologia "+(t?"alterada":"inserida")+" com sucesso!"}),this.metodologia={id:"",descricao:"",utilizacao:[]}},onClickAddMetodologia:function(){this.metodologia={id:"",descricao:"",utilizacao:[]},this.modal=!0},onClickEditMetodologia:function(){this.metodologia=this.dataTable.selected[0],this.modal=!0}}},i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("q-page",{staticClass:"docs-table",attrs:{padding:""}},[o("q-card",[o("q-card-main",{staticClass:"q-pa-none"},[o("q-table",{ref:"table",attrs:{color:"primary",data:t.metodologias,columns:t.dataTable.columns,"visible-columns":t.dataTable.visibleColumns,filter:t.dataTable.filter,selection:"single",selected:t.dataTable.selected,"row-key":"id",loading:t.dataTable.loading},on:{"update:selected":function(a){t.$set(t.dataTable,"selected",a)}},scopedSlots:t._u([{key:"top-left",fn:function(a){return[o("q-search",{staticStyle:{width:"350px"},attrs:{"hide-underline":"",placeholder:"Procurar (Descrição, Utilização)"},model:{value:t.dataTable.filter,callback:function(a){t.$set(t.dataTable,"filter",a)},expression:"dataTable.filter"}})]}},{key:"top-right",fn:function(a){return[o("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"primary",round:"",icon:"add",title:"Nova Metodologia"},on:{click:t.onClickAddMetodologia}}),t._v(" "),o("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"secondary",round:"",icon:"edit",title:"Editar Metodologia",disable:!t.dataTable.selected},on:{click:t.onClickEditMetodologia}})]}},{key:"body-cell-descricao",fn:function(a){return o("q-td",{attrs:{props:a}},[o("p",{staticClass:"ellipsis",staticStyle:{"max-width":"800px"},domProps:{textContent:t._s(a.value)}}),t._v(" "),o("q-tooltip",{staticStyle:{"max-width":"500px"},attrs:{anchor:"bottom middle"}},[t._v("\n            "+t._s(a.value)+"\n          ")])],1)}},{key:"body-cell-utilizacao",fn:function(a){return o("q-td",{attrs:{props:a}},t._l(a.value,function(a){return o("q-item",{key:a.curso},[o("q-item-main",{attrs:{label:a.curso}}),t._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-chip",{staticClass:"shadow-2",attrs:{color:"primary"}},[t._v(t._s(a.qtd))])],1)],1)}))}}])})],1)],1),t._v(" "),o("q-modal",{attrs:{"content-css":{minWidth:"60%",minHeight:"400px",maxHeight:"400px"}},model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[o("q-modal-layout",[o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close","wait-for-ripple":""},on:{click:function(a){t.modal=!1}}}),t._v(" "),o("q-toolbar-title",[t._v("\n          "+t._s(""===t.metodologia.id?"Adicionar":"Editar")+" Metodologia\n        ")])],1),t._v(" "),o("div",{staticClass:"q-pa-lg"},[o("div",{staticClass:"row gutter-sm"},[o("div",{staticClass:"col-xs-12"},[o("p",{staticClass:"caption"},[t._v("Descrição")]),t._v(" "),o("q-input",{attrs:{placeholder:"Informe a descrição da metodologia",type:"textarea",max:"255","max-height":200},model:{value:t.metodologia.descricao,callback:function(a){t.$set(t.metodologia,"descricao",a)},expression:"metodologia.descricao"}})],1)])]),t._v(" "),o("q-toolbar",{staticClass:"justify-end",attrs:{slot:"footer"},slot:"footer"},[o("q-btn",{staticClass:"bg-white text-primary",attrs:{label:"Salvar",icon:"save"},on:{click:t.salvarMetodologia}}),t._v(" "),o("q-btn",{staticClass:"bg-white text-negative q-ml-sm",attrs:{label:"Cancelar",icon:"close"},on:{click:function(a){t.modal=!1}}})],1)],1)],1)],1)},l=[];i._withStripped=!0;var s=o("XyMi"),d=Object(s.a)(e,i,l,!1,null,null,null);d.options.__file="src\\pages\\cadastros_basicos\\metodologias\\gerenciamento_metodologias.vue";a.default=d.exports}});