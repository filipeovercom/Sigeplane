webpackJsonp([8],{"4sWP":function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={data:function(){return{modal:!1,disciplina:{id:"",codInterno:"",nome:"",curso:"",ementa:"",contribuicaoFormacao:"",bibliografiaBasica:"",bibliografiaComplementar:""},dataTable:{visibleColumns:["codInterno","nome","curso","ementa","status"],columns:[{name:"id",field:"id"},{name:"codInterno",label:"Cód. Interno",field:"codInterno",align:"left"},{name:"nome",label:"Nome",field:"nome",align:"left"},{name:"curso",label:"Curso",field:"curso",align:"left"},{name:"ementa",label:"Ementa",field:"ementa",align:"left"},{name:"status",label:"Status",field:"status",align:"center"}],filter:"",selected:[],loading:!1}}},computed:{disciplinas:function(){return this.$store.getters["disciplinas/getData"]},cursos:function(){return this.$store.getters["cursos/getData"].map(function(i){return{label:i.nome,sublabel:"Coordenador: "+i.coordenador,value:i.nome}})}},methods:{salvarDisciplina:function(){var i=""!==this.disciplina.id;i||this.$store.dispatch("disciplinas/addDisciplina",this.disciplina),this.$q.notify({type:"positive",position:"top",message:"Disciplina "+(i?"alterada":"inserida")+" com sucesso"}),this.disciplina={id:"",codInterno:"",nome:"",curso:"",ementa:"",contribuicaoFormacao:"",bibliografiaBasica:"",bibliografiaComplementar:""}},onClickAddDisciplina:function(){this.disciplina={id:"",codInterno:"",nome:"",curso:"",ementa:"",contribuicaoFormacao:"",bibliografiaBasica:"",bibliografiaComplementar:""},this.modal=!0},onClickEditDisciplina:function(){this.disciplina=this.dataTable.selected[0],this.modal=!0},onClickDesaDisciplina:function(){var i=this;this.$q.dialog({title:"Confirmação",message:"Deseja realmente desativar a disciplina?",ok:!0,cancel:!1}).then(function(){i.dataTable.selected.forEach(function(i){i.status=!1}),i.$q.notify({type:"positive",position:"top",message:"Disciplina desativada com sucesso"})})}}},o=function(){var i=this,a=i.$createElement,t=i._self._c||a;return t("q-page",{staticClass:"docs-table",attrs:{padding:""}},[t("q-card",[t("q-card-main",{staticClass:"q-pa-none"},[t("q-table",{ref:"table",attrs:{color:"primary",data:i.disciplinas,columns:i.dataTable.columns,"visible-columns":i.dataTable.visibleColumns,filter:i.dataTable.filter,selection:"multiple",selected:i.dataTable.selected,"row-key":"id",loading:i.dataTable.loading},on:{"update:selected":function(a){i.$set(i.dataTable,"selected",a)}},scopedSlots:i._u([{key:"top-left",fn:function(a){return[t("q-search",{staticStyle:{width:"350px"},attrs:{"hide-underline":"",placeholder:"Procurar (Cód. Interno, Nome, Curso, Ementa)"},model:{value:i.dataTable.filter,callback:function(a){i.$set(i.dataTable,"filter",a)},expression:"dataTable.filter"}})]}},{key:"top-right",fn:function(a){return[t("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"primary",round:"",icon:"add",title:"Nova Disciplina"},on:{click:i.onClickAddDisciplina}}),i._v(" "),t("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"secondary",round:"",icon:"edit",title:"Editar Disciplina",disable:1!==i.dataTable.selected.length},on:{click:i.onClickEditDisciplina}}),i._v(" "),t("q-btn",{attrs:{push:"",color:"tertiary",round:"",icon:"delete",title:"Desativar Disciplina",disable:0===i.dataTable.selected.length},on:{click:i.onClickDesaDisciplina}})]}},{key:"body-cell-ementa",fn:function(a){return t("q-td",{attrs:{props:a}},[t("p",{staticClass:"ellipsis",staticStyle:{"max-width":"500px"}},[i._v("\n            "+i._s(a.value)+"\n          ")]),i._v(" "),t("q-tooltip",{staticStyle:{"max-width":"500px"},attrs:{anchor:"bottom middle"}},[i._v("\n            "+i._s(a.value)+"\n          ")])],1)}},{key:"body-cell-status",fn:function(a){return t("q-td",{attrs:{props:a}},[a.value?t("q-icon",{attrs:{color:"positive",name:"fa-check-circle",title:"Ativo"}}):i._e(),i._v(" "),a.value?i._e():t("q-icon",{attrs:{color:"negative",name:"fa-times-circle",title:"Inativo"}})],1)}}])})],1)],1),i._v(" "),t("q-modal",{attrs:{"content-css":{minWidth:"60%",minHeight:"80%"}},model:{value:i.modal,callback:function(a){i.modal=a},expression:"modal"}},[t("q-modal-layout",[t("q-toolbar",{attrs:{slot:"header"},slot:"header"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close","wait-for-ripple":""},on:{click:function(a){i.modal=!1}}}),i._v(" "),t("q-toolbar-title",[i._v("\n          "+i._s(""===i.disciplina.id?"Adicionar":"Editar")+" Disciplina\n        ")])],1),i._v(" "),t("div",{staticClass:"q-pa-lg"},[t("div",{staticClass:"row gutter-sm"},[t("div",{staticClass:"col-md-6 col-lg-2"},[t("p",{staticClass:"caption"},[i._v("Cód. Interno")]),i._v(" "),t("q-input",{attrs:{placeholder:"Código Interno"},model:{value:i.disciplina.codInterno,callback:function(a){i.$set(i.disciplina,"codInterno",a)},expression:"disciplina.codInterno"}})],1),i._v(" "),t("div",{staticClass:"col-md-6 col-lg-6"},[t("p",{staticClass:"caption"},[i._v("Nome")]),i._v(" "),t("q-input",{attrs:{placeholder:"Nome da Disciplina"},model:{value:i.disciplina.nome,callback:function(a){i.$set(i.disciplina,"nome",a)},expression:"disciplina.nome"}})],1),i._v(" "),t("div",{staticClass:"col-md-6 col-lg-4"},[t("p",{staticClass:"caption"},[i._v("Curso")]),i._v(" "),t("q-select",{attrs:{placeholder:"Informe o Curso",filter:"",separator:"",options:i.cursos},model:{value:i.disciplina.curso,callback:function(a){i.$set(i.disciplina,"curso",a)},expression:"disciplina.curso"}})],1),i._v(" "),t("div",{staticClass:"col-xs-12"},[t("p",{staticClass:"caption"},[i._v("Ementa")]),i._v(" "),t("q-editor",{attrs:{"toolbar-text-color":"white","toolbar-toggle-color":"yellow-8","toolbar-flat":"","toolbar-bg":"primary","max-height":"200px",toolbar:[["bold","italic","underline"]]},model:{value:i.disciplina.ementa,callback:function(a){i.$set(i.disciplina,"ementa",a)},expression:"disciplina.ementa"}})],1),i._v(" "),t("div",{staticClass:"col-xs-12"},[t("p",{staticClass:"caption"},[i._v("Contribuição para Formação do Perfil do Egresso")]),i._v(" "),t("q-editor",{attrs:{"toolbar-text-color":"white","toolbar-toggle-color":"yellow-8","toolbar-flat":"","toolbar-bg":"primary","max-height":"200px",toolbar:[["bold","italic","underline"]]},model:{value:i.disciplina.contribuicaoFormacao,callback:function(a){i.$set(i.disciplina,"contribuicaoFormacao",a)},expression:"disciplina.contribuicaoFormacao"}})],1),i._v(" "),t("div",{staticClass:"col-xs-12"},[t("p",{staticClass:"caption"},[i._v("Bibliografia Básica")]),i._v(" "),t("q-editor",{attrs:{"toolbar-text-color":"white","toolbar-toggle-color":"yellow-8","toolbar-flat":"","toolbar-bg":"primary","max-height":"200px",toolbar:[["bold","italic","underline"]]},model:{value:i.disciplina.bibliografiaBasica,callback:function(a){i.$set(i.disciplina,"bibliografiaBasica",a)},expression:"disciplina.bibliografiaBasica"}})],1),i._v(" "),t("div",{staticClass:"col-xs-12"},[t("p",{staticClass:"caption"},[i._v("Bibliografia Complementar")]),i._v(" "),t("q-editor",{attrs:{"toolbar-text-color":"white","toolbar-toggle-color":"yellow-8","toolbar-flat":"","toolbar-bg":"primary","max-height":"200px",toolbar:[["bold","italic","underline"]]},model:{value:i.disciplina.bibliografiaComplementar,callback:function(a){i.$set(i.disciplina,"bibliografiaComplementar",a)},expression:"disciplina.bibliografiaComplementar"}})],1)])]),i._v(" "),t("q-toolbar",{staticClass:"justify-end",attrs:{slot:"footer"},slot:"footer"},[t("q-btn",{staticClass:"bg-white text-primary",attrs:{label:"Salvar",icon:"save"},on:{click:i.salvarDisciplina}}),i._v(" "),t("q-btn",{staticClass:"bg-white text-negative q-ml-sm",attrs:{label:"Cancelar",icon:"close"},on:{click:function(a){i.modal=!1}}})],1)],1)],1)],1)},l=[];o._withStripped=!0;var s=t("XyMi"),n=Object(s.a)(e,o,l,!1,null,null,null);n.options.__file="src\\pages\\cadastros_basicos\\disciplinas\\gerenciamento_disciplinas.vue";a.default=n.exports}});