webpackJsonp([6],{avws:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{modal:!1,turma:{id:"",codInterno:"",curso:"",disciplina:"",professor:""},dataTable:{visibleColumns:["codInterno","disciplina","curso","professor","status"],columns:[{name:"id",field:"id"},{name:"codInterno",label:"Cód. Interno",field:"codInterno",align:"left"},{name:"disciplina",label:"Disciplina",field:"disciplina",align:"left"},{name:"curso",label:"Curso",field:"curso",align:"left"},{name:"professor",label:"Professor",field:"professor",align:"center"},{name:"status",label:"Status",field:"status",align:"center"}],filter:"",selected:[],loading:!1}}},computed:{turmas:function(){return this.$store.getters["turmas/getData"]},disciplinas:function(){return this.$store.getters["disciplinas/getData"].map(function(t){return{label:t.nome,sublabel:"Cód. Interno: "+t.codInterno,value:t.nome}})},cursos:function(){return this.$store.getters["cursos/getData"].map(function(t){return{label:t.nome,sublabel:"Coordenador: "+t.coordenador,value:t.nome}})},professores:function(){return this.$store.getters["professores/getData"].map(function(t){return{label:t.nome,sublabel:"Matrícula: "+t.matricula,value:t.nome}})}},methods:{selected:function(t){this.$q.notify('Selected suggestion "'+t.label+'"')},addTurma:function(){this.$store.dispatch("turmas/addTurma",this.turma),this.$q.notify({type:"positive",position:"top",message:"Turma inserida com sucesso"}),this.turma={id:"",codInterno:"",curso:"",disciplina:"",professor:""}},editTurma:function(){this.$q.notify({type:"positive",position:"top",message:"Turma editada com sucesso"}),this.turma={id:"",codInterno:"",curso:"",disciplina:"",professor:""}},onClickAddTurma:function(){this.turma={id:"",codInterno:"",curso:"",disciplina:"",professor:""},this.modal=!0},onClickEditTurma:function(){this.turma=this.dataTable.selected[0],this.modal=!0},onClickDesaTurma:function(){var t=this;this.$q.dialog({title:"Confirmação",message:"Deseja realmente desativar a turma?",ok:!0,cancel:!1}).then(function(){t.dataTable.selected.forEach(function(t){t.status=!1}),t.$q.notify({type:"positive",position:"top",message:"Turma desativada com sucesso"})})}}},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"docs-table",attrs:{padding:""}},[a("q-card",[a("q-card-main",{staticClass:"q-pa-none"},[a("q-table",{ref:"table",attrs:{color:"primary",data:t.turmas,columns:t.dataTable.columns,"visible-columns":t.dataTable.visibleColumns,filter:t.dataTable.filter,selection:"multiple",selected:t.dataTable.selected,"row-key":"id",loading:t.dataTable.loading},on:{"update:selected":function(e){t.$set(t.dataTable,"selected",e)}},scopedSlots:t._u([{key:"top-left",fn:function(e){return[a("q-search",{staticStyle:{width:"350px"},attrs:{"hide-underline":"",placeholder:"Procurar (Cód. Interno, Descrição, Curso)"},model:{value:t.dataTable.filter,callback:function(e){t.$set(t.dataTable,"filter",e)},expression:"dataTable.filter"}})]}},{key:"top-right",fn:function(e){return[a("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"primary",round:"",icon:"add",title:"Nova Turma"},on:{click:t.onClickAddTurma}}),t._v(" "),a("q-btn",{staticClass:"q-mr-sm",attrs:{push:"",color:"secondary",round:"",icon:"edit",title:"Editar Turma",disable:1!==t.dataTable.selected.length},on:{click:t.onClickEditTurma}}),t._v(" "),a("q-btn",{attrs:{push:"",color:"tertiary",round:"",icon:"delete",title:"Desativar Turma",disable:0===t.dataTable.selected.length},on:{click:t.onClickDesaTurma}})]}},{key:"body-cell-status",fn:function(e){return a("q-td",{attrs:{props:e}},[e.value?a("q-icon",{attrs:{color:"positive",name:"fa-check-circle",title:"Ativo"}}):t._e(),t._v(" "),e.value?t._e():a("q-icon",{attrs:{color:"negative",name:"fa-times-circle",title:"Inativo"}})],1)}}])})],1)],1),t._v(" "),a("q-modal",{attrs:{"content-css":{minWidth:"60%",minHeight:"300px"}},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"back","wait-for-ripple":""},on:{click:function(e){t.modal=!1}}}),t._v(" "),a("q-toolbar-title",[t._v("\n          "+t._s(""===t.turma.id?"Adicionar":"Editar")+" Turma\n        ")])],1),t._v(" "),a("div",{staticClass:"layout-padding"},[a("div",{staticClass:"row gutter-sm"},[a("div",{staticClass:"col-md-6 col-lg-4"},[a("q-input",{attrs:{color:"amber",placeholder:"Código Interno","stack-label":"Cód. Interno"},model:{value:t.turma.codInterno,callback:function(e){t.$set(t.turma,"codInterno",e)},expression:"turma.codInterno"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 col-lg-4"},[a("q-select",{attrs:{placeholder:"Informe o Curso","stack-label":"Curso",filter:"",separator:"",options:t.cursos},model:{value:t.turma.curso,callback:function(e){t.$set(t.turma,"curso",e)},expression:"turma.curso"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 col-lg-4"},[a("q-select",{attrs:{placeholder:"Informe o disciplina","stack-label":"Disciplina",filter:"",separator:"",options:t.disciplinas},model:{value:t.turma.disciplina,callback:function(e){t.$set(t.turma,"disciplina",e)},expression:"turma.disciplina"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 col-lg-4"},[a("q-select",{attrs:{"stack-label":"Professor",placeholder:"Informe o Professor",options:t.professores,filter:"",separator:""},model:{value:t.turma.professor,callback:function(e){t.$set(t.turma,"professor",e)},expression:"turma.professor"}})],1)])]),t._v(" "),a("q-toolbar",{staticClass:"justify-end",attrs:{slot:"footer"},slot:"footer"},[t.turma.id?t._e():a("q-btn",{staticClass:"bg-white text-primary",attrs:{label:"Salvar",icon:"save"},on:{click:t.addTurma}}),t._v(" "),t.turma.id?a("q-btn",{staticClass:"bg-white text-primary",attrs:{label:"Salvar",icon:"save"},on:{click:t.editTurma}}):t._e(),t._v(" "),a("q-btn",{staticClass:"bg-white text-negative q-ml-sm",attrs:{label:"Cancelar",icon:"close"},on:{click:function(e){t.modal=!1}}})],1)],1)],1)],1)},i=[];o._withStripped=!0;var r=a("XyMi"),l=Object(r.a)(s,o,i,!1,null,null,null);l.options.__file="src\\pages\\cadastros_basicos\\turmas\\gerenciamento_turmas.vue";e.default=l.exports}});